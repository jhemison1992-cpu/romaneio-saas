{
  "query": "CREATE TABLE `auditLogs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int,\n\t`action` varchar(50) NOT NULL,\n\t`entityType` varchar(50) NOT NULL,\n\t`entityId` int NOT NULL,\n\t`changes` json,\n\t`timestamp` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `auditLogs_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `companies` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`ownerId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`documentNumber` varchar(20),\n\t`address` text,\n\t`phone` varchar(20),\n\t`email` varchar(320),\n\t`template` enum('blank','aluminc') NOT NULL DEFAULT 'blank',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `companies_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `romaneioItems` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`romaneioId` int NOT NULL,\n\t`descricao` text NOT NULL,\n\t`quantidade` int NOT NULL,\n\t`peso` decimal(10,2),\n\t`unidade` varchar(20) NOT NULL DEFAULT 'kg',\n\t`valor` decimal(10,2),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `romaneioItems_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `romaneios` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`companyId` int,\n\t`title` varchar(255) NOT NULL,\n\t`remetente` text NOT NULL,\n\t`destinatario` text NOT NULL,\n\t`dataEmissao` timestamp NOT NULL,\n\t`dataEntrega` timestamp,\n\t`status` enum('draft','completed','archived') NOT NULL DEFAULT 'draft',\n\t`observacoes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `romaneios_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `subscriptionPlans` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`slug` varchar(50) NOT NULL,\n\t`description` text,\n\t`monthlyPrice` decimal(10,2) NOT NULL,\n\t`features` json NOT NULL,\n\t`maxRomaneios` int NOT NULL DEFAULT 10,\n\t`maxUsers` int NOT NULL DEFAULT 1,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscriptionPlans_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscriptionPlans_slug_unique` UNIQUE(`slug`)\n);\nCREATE TABLE `userSubscriptions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`planId` int NOT NULL,\n\t`startDate` timestamp NOT NULL,\n\t`endDate` timestamp,\n\t`status` enum('active','cancelled','expired') NOT NULL DEFAULT 'active',\n\t`autoRenew` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userSubscriptions_id` PRIMARY KEY(`id`)\n);\nALTER TABLE `users` ADD `subscriptionPlanId` int;\nALTER TABLE `users` ADD `companyName` text;\nALTER TABLE `users` ADD `documentNumber` varchar(20);\nALTER TABLE `users` ADD `phone` varchar(20);\nALTER TABLE `users` ADD `address` text;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4ANFNhG7c8VGQva.6b509d448810 --database 4HLJ5HMZrp5HsaDfa4mpFt --execute CREATE TABLE `auditLogs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int,\n\t`action` varchar(50) NOT NULL,\n\t`entityType` varchar(50) NOT NULL,\n\t`entityId` int NOT NULL,\n\t`changes` json,\n\t`timestamp` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `auditLogs_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `companies` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`ownerId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`documentNumber` varchar(20),\n\t`address` text,\n\t`phone` varchar(20),\n\t`email` varchar(320),\n\t`template` enum('blank','aluminc') NOT NULL DEFAULT 'blank',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `companies_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `romaneioItems` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`romaneioId` int NOT NULL,\n\t`descricao` text NOT NULL,\n\t`quantidade` int NOT NULL,\n\t`peso` decimal(10,2),\n\t`unidade` varchar(20) NOT NULL DEFAULT 'kg',\n\t`valor` decimal(10,2),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `romaneioItems_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `romaneios` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`companyId` int,\n\t`title` varchar(255) NOT NULL,\n\t`remetente` text NOT NULL,\n\t`destinatario` text NOT NULL,\n\t`dataEmissao` timestamp NOT NULL,\n\t`dataEntrega` timestamp,\n\t`status` enum('draft','completed','archived') NOT NULL DEFAULT 'draft',\n\t`observacoes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `romaneios_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `subscriptionPlans` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`slug` varchar(50) NOT NULL,\n\t`description` text,\n\t`monthlyPrice` decimal(10,2) NOT NULL,\n\t`features` json NOT NULL,\n\t`maxRomaneios` int NOT NULL DEFAULT 10,\n\t`maxUsers` int NOT NULL DEFAULT 1,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscriptionPlans_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscriptionPlans_slug_unique` UNIQUE(`slug`)\n);\nCREATE TABLE `userSubscriptions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`planId` int NOT NULL,\n\t`startDate` timestamp NOT NULL,\n\t`endDate` timestamp,\n\t`status` enum('active','cancelled','expired') NOT NULL DEFAULT 'active',\n\t`autoRenew` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userSubscriptions_id` PRIMARY KEY(`id`)\n);\nALTER TABLE `users` ADD `subscriptionPlanId` int;\nALTER TABLE `users` ADD `companyName` text;\nALTER TABLE `users` ADD `documentNumber` varchar(20);\nALTER TABLE `users` ADD `phone` varchar(20);\nALTER TABLE `users` ADD `address` text;",
  "returncode": 1,
  "logs": [
    "ERROR 1146 (42S02) at line 78: Table '4hlj5hmzrp5hsadfa4mpft.users' doesn't exist"
  ]
}